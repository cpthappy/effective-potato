#:kivy 1.9.0
#:import label kivy.uix.label
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import ListItemButton kivy.uix.listview.ListItemButton
#:import CompositeListItem kivy.uix.listview.CompositeListItem
#:import RstDocument kivy.uix.rst.RstDocument
#:import sm kivy.uix.screenmanager
#: import icon kivy.garden.iconfonts.icon

# (0.847, 0.235, 1, 0.75)
# (0.58, 0.216, 0.91, 0.75)
# (0.467, 0.286, 1, 0.75)
# (0.216, 0.227, 0.91, 0.75)
# (0.235, 0.451, 1, 0.75)

# (1, 0.678, 0.384, 0.75)
# (0.149, 0.8, 0.196, 0.75)

<MenuBar@ActionBar>:
    pos_hint: {'top':1}
    background_image: 'res/white-bg.png'
    background_color: (0.467, 0.286, 1, 0.75)
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'Nomen est omen'
            with_previous: False
            app_icon: 'res/g3.png'
            app_icon_height: 1
            app_icon_width: 1
        ActionButton:
            markup: True # Always turn markup on
            text: "%s"%(icon('flaticon-eye105'))
            font_size: '25dp'
            on_release:  app.root.current = 'rating'
        ActionButton:
            markup: True # Always turn markup on
            text: "%s"%(icon('flaticon-heart296'))
            font_size: '25dp'
            on_release:  app.root.current = 'favs'
        ActionButton:
            markup: True # Always turn markup on
            text: "%s"%(icon('flaticon-settings51'))
            font_size: '25dp'
            on_release:  app.open_settings()

<FavoritesView>:
    name: 'favs'
    on_enter: self.update()
    BoxLayout:
        orientation: 'vertical'
        spacing: 1

        MenuBar:
        ListView:
            id: favorite_list
            adapter:
                ListAdapter(
                args_converter=root.args_converter,
                data=root.favorite_names,
                selection_mode='none',
                cls=CompositeListItem)

<RatingView>:
    name:  'rating'
    on_enter: self.update_current_name()
    BoxLayout:
        orientation: 'vertical'
        spacing: 1
        MenuBar:

        Label:
            id: 'name'
            text: root.name_value
            markup: True
            font_size: '50sp'
            color: root.gender_color
            background_color: [1,0,0,1]
            size_hint: (1., 0.1)

        RstDocument:
            id: 'info'
            text: root.name_info
            size_hint: (1., 0.3)
            background_color: (1,1,1,1)

            # (0.847, 0.235, 1, 0.75)
            # (0.58, 0.216, 0.91, 0.75)
            # (0.467, 0.286, 1, 0.75)
            # (0.216, 0.227, 0.91, 0.75)
            # (0.235, 0.451, 1, 0.75)

        BoxLayout:
            size_hint: (1., 0.1)
            spacing: 10
            Button:
                on_press: root.rate_pro()
                background_color: [1,1,1,1]
                background_normal: ""
                background_down: ""
                color: (0.149, 0.8, 0.196, 0.75)
                font_size: '60dp'
                markup: True # Always turn markup on
                text: "%s"%(icon('flaticon-round69'))

            Button:
                on_press: root.update_current_name()
                background_color: [1,1,1,1]
                background_normal: ""
                background_down: ""
                color: (0.467, 0.286, 1, 0.75)
                font_size: '60dp'
                markup: True # Always turn markup on
                text: "%s"%(icon('flaticon-refresh61'))

            Button:
                on_press: root.rate_con()
                background_color: [1,1,1,1]
                color: (1, 0.678, 0.384, 0.75)
                font_size: '60dp'
                background_normal: ""
                background_down: ""
                markup: True # Always turn markup on
                text: "%s"%(icon('flaticon-rounded61'))

ScreenManagement:
    transition: sm.NoTransition()
    RatingView:
    FavoritesView:
